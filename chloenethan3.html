<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy 3rd Monthsary üñ§</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#2b1a38;
      --accent1:#a873ff;
      --accent2:#ff89b7;
      --card:rgba(255,255,255,0.05);
      --muted:#c8b9df;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      background: url('yip.png') center center / cover no-repeat fixed,
                  radial-gradient(800px 600px at 20% 20%, rgba(255,122,162,0.05), transparent),
                  radial-gradient(900px 700px at 80% 80%, rgba(180,108,255,0.08), transparent),
                  var(--bg);
      color:#f4effa;
      display:flex;align-items:center;justify-content:center;
      padding:40px 20px;
    }
    .container{
      width:100%;max-width:960px;
      background:rgba(0,0,0,0.45);
      border-radius:18px;
      padding:28px;
      box-shadow:0 10px 30px rgba(0,0,0,0.5);
      backdrop-filter:blur(10px);
      display:grid;grid-template-columns:1fr 380px;gap:22px;
      align-items:center;
    }
    @media(max-width:900px){.container{grid-template-columns:1fr;}}
    .card{
      background:var(--card);
      border:1px solid rgba(255,255,255,0.06);
      border-radius:12px;
      padding:18px;
      margin-bottom:14px;
    }
    .photo{
      width:100%;height:400px;border-radius:10px;overflow:hidden;
      display:flex;align-items:center;justify-content:center;
      background:rgba(255,255,255,0.03);
      border:1px dashed rgba(255,255,255,0.06);
    }
    .photo img{width:100%;height:100%;object-fit:cover}
    h1{font-size:28px;letter-spacing:-0.3px;margin-bottom:6px;color:#fff}
    .sub{color:var(--muted);margin-bottom:16px}
    .message-box{
      max-height:220px;
      overflow-y:auto;
      padding-right:8px;
      scrollbar-width:thin;
      scrollbar-color: var(--accent1) transparent;
    }
    .message-box::-webkit-scrollbar{width:6px;}
    .message-box::-webkit-scrollbar-thumb{
      background:linear-gradient(var(--accent1),var(--accent2));
      border-radius:3px;
    }
    .message{font-size:15px;line-height:1.6;color:#ede4f7;white-space:pre-line}
    .right{display:flex;flex-direction:column;gap:12px}
    .stats{display:flex;gap:10px;align-items:center}
    .stat{
      flex:1;text-align:center;
      background:rgba(255,255,255,0.04);
      border:1px solid rgba(255,255,255,0.06);
      border-radius:10px;padding:12px;
    }
    .stat strong{display:block;font-size:18px;color:#fff}
    .small{font-size:13px;color:var(--muted)}
    .btn{
      display:inline-block;padding:10px 14px;
      border-radius:10px;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      color:#fff;font-weight:600;text-decoration:none;
      border:none;cursor:pointer;
      transition:opacity .2s, transform .2s;
    }
    .btn:hover{opacity:.9;transform:scale(1.03)}

    /* üíó Heart play button */
    .heart {
      display:inline-block;
      font-size:24px;
      color:#ff5da2;
      animation: beat 1s infinite, glow 2s ease-in-out infinite alternate;
      cursor:pointer;
      text-decoration:none;
      background:none;
      border:none;
      transform-origin:center;
      filter: drop-shadow(0 0 8px rgba(255,93,162,0.5));
    }
    @keyframes beat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.3); }
    }
    @keyframes glow {
      0% { filter: drop-shadow(0 0 5px rgba(255,93,162,0.3)); }
      100% { filter: drop-shadow(0 0 20px rgba(255,93,162,0.8)); }
    }

    /* üéµ Custom Music Player */
    .music-card {
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 18px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 0 20px rgba(255,137,183,0.15);
      backdrop-filter: blur(10px);
    }
    .music-title {
      font-size: 15px;
      color: var(--muted);
      margin-bottom: 12px;
      font-weight: 600;
      letter-spacing: 0.4px;
    }
    .player {
      display:flex;
      align-items:center;
      gap:12px;
      flex-direction:column;
    }
    .progress {
      width:100%;
      height:10px;
      background:rgba(255,255,255,0.1);
      border-radius:10px;
      overflow:hidden;
      position:relative;
    }
    .progress-bar {
      height:100%;
      width:0%;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      box-shadow:0 0 10px rgba(255,137,183,0.6);
      border-radius:10px;
      transition:width .2s linear;
    }
    .time {
      font-size:12px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      width:100%;
      margin-top:4px;
    }

    /* üí¨ Live message area */
    .love-note {
      margin-top:16px;
      background:rgba(255,255,255,0.05);
      border:1px solid rgba(255,255,255,0.08);
      border-radius:10px;
      padding:12px;
      text-align:left;
    }
    .love-note input {
      width:100%;
      background:transparent;
      border:none;
      outline:none;
      color:#fff;
      font-size:14px;
      font-family:inherit;
      padding:6px;
    }
    .love-display {
      margin-top:8px;
      color:#ffbde2;
      font-size:15px;
      font-style:italic;
      text-align:center;
      opacity:0;
      transition:opacity .5s ease;
    }
    .love-display.show {
      opacity:1;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="left">
      <div class="card photo">
        <img src="super.png" alt="Our Picture üíú">
      </div>

      <div class="card">
        <h1>Happy 3rd Monthsary my love üñ§</h1>
        <p class="sub">Three months of Chloe and Ethan :}</p>

        <div class="message-box">
          <p class="message">
My darling Chloe,

Hi, darling. Happy monthsary. I know we shouldn't really celebrate this since we're no longer together, it still stings that we're not together anymore. This would have been our third month together if we were still actually together. From time to time, I think, I sure did fuck up this time, I know I wasn‚Äôt the best boyfriend, lightyears away from perfect, and I got worse over time. I‚Äôve disappointed you more than we can count and more than you deserved, with me over and over telling you I‚Äôll give you everything you deserve, but then I just end up making you suffer.

But even after our breakup, and even after the crying and all the fights, I still end up thinking of you with love, not hatred, but love. My love for you has never weakened, darling, even when I‚Äôm insecure, even when I feel hurt. My love for you is the same. Of course, it wouldn‚Äôt fade. How can‚Äôt I love the person who made me realize how much of a shitty person I actually am? Being better isn‚Äôt just me fixing my mistakes or not making mistakes at all, but it‚Äôs about growing as a person while learning how to love you properly.

I‚Äôm nothing special, this we‚Äôre both sure of. I‚Äôm just some guy who keeps making mistakes, tried and failed, no talents, no honors, nothing that would make me stand out. While I know love is never enough, I know that I am good at one thing, and that is loving you with everything I have. I think I‚Äôll never be able to say the right words to express to you how much you really do mean to me, my darling. I hope my actions in the next months will show you that, though.

I miss you, Chloe, I really do. Yes, we text and call all the time we even sleep together on the phone , and we just saw each other Sunday, but I miss you, not in a clingy way, but I miss me being yours, and I miss you being mine. Whenever I see a cat, I remember you. Whenever I hear a song that‚Äôs in our playlists, I think of you, you all I ever dream about now a mix of nightmares since everything I feared would happen did that. There are moments where the memories I recall were moments that hurt me, but I‚Äôm not bitter about it, because at least I know what we had, no, what we have, is real.

In two months, December 13, I hope we‚Äôre together again, celebrating the holidays with me as a better person, while you finally have your old Ethan back with improvements. But no matter what the future has in store for us, I want you to always remember this, my darling I have loved you, I still love you, and I always will love you. You‚Äôll always be a piece of my heart I‚Äôll never regret giving.

Yours
Ethan

‚Äî <strong></strong>
          </p>
        </div>

        <div style="margin-top:14px;text-align:center;">
          <a class="btn" id="playBtn" href="#" onclick="toggleSong(event)">Play our song ‚ñ∂</a>
        </div>
      </div>
    </div>

    <div class="right">
      <div class="card">
        <div class="stats">
          <div class="stat">
            <div class="small">Days since we met</div>
            <strong id="daysCount">0</strong>
          </div>
          <div class="stat">
            <div class="small">Months together</div>
            <strong id="monthsCount">0</strong>
          </div>
        </div>
      </div>

      <div class="music-card">
        <div class="music-title">üñ§ Please still take me home üñ§</div>
        <div class="player">
          <audio id="song">
            <source src="Closing Time.mp3" type="audio/mpeg">
          </audio>
          <button id="toggleBtn" class="heart" style="font-size:26px;">üñ§</button>
          <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
          <div class="time"><span id="currentTime">0:00</span><span id="duration">0:00</span></div>
        </div>

        <div class="love-note">
          <div id="loveDisplay" class="love-display"></div>
           <div class="message-box" id="liveMessage">üí¨ Waiting for a message...</div>

  <div class="input-container">
    <input type="text" id="messageInput" placeholder="Write me something it'll update the site :}">
  </div>
</div>

<!-- Firebase SDK -->
<script type="module">
  // Import Firebase
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
  import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";

  // Replace this with YOUR Firebase config ‚Üì
  const firebaseConfig = {
    apiKey: "AIzaSyBc0TH1E-lfL3wAW7bEdC6bhUjOvU0WDqo",
  authDomain: "rdmonth-of-us.firebaseapp.com",
  projectId: "rdmonth-of-us",
  storageBucket: "rdmonth-of-us.firebasestorage.app",
  messagingSenderId: "330283200233",
  appId: "1:330283200233:web:ad77dbf8cd37ba1a9eca78",
  measurementId: "G-VCKG8H9F65"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);
  const messageRef = ref(db, "liveMessage");

  const messageBox = document.getElementById("liveMessage");
  const input = document.getElementById("messageInput");

  // Update message in Firebase when she types
  input.addEventListener("input", () => {
    set(messageRef, input.value);
  });

  // Listen for updates in real time
  onValue(messageRef, (snapshot) => {
    const text = snapshot.val();
    messageBox.textContent = text || "üí¨ Waiting for a message...";
  });

  // Heart + song logic
  const playButton = document.getElementById("playButton");
  const song = document.getElementById("song");
  let isPlaying = false;

  playButton.addEventListener("click", () => {
    if (isPlaying) {
      song.pause();
    } else {
      song.play();
    }
  });

  song.addEventListener("play", () => {
    playButton.classList.add("playing");
    isPlaying = true;
  });

  song.addEventListener("pause", () => {
    playButton.classList.remove("playing");
    isPlaying = false;
  });
</script>

</body>
</html>
        </div>
      </div>
    </div>
  </div>

  <script>
    const song = document.getElementById('song');
    const playBtn = document.getElementById('playBtn');
    const toggleBtn = document.getElementById('toggleBtn');
    const progressBar = document.getElementById('progressBar');
    const currentTimeEl = document.getElementById('currentTime');
    const durationEl = document.getElementById('duration');
    const loveInput = document.getElementById('loveInput');
    const loveDisplay = document.getElementById('loveDisplay');

    // üïí Format time
    function formatTime(sec){
      const m = Math.floor(sec / 60) || 0;
      const s = Math.floor(sec % 60) || 0;
      return `${m}:${s < 10 ? '0'+s : s}`;
    }

    song.addEventListener('loadedmetadata',()=>{
      durationEl.textContent = formatTime(song.duration);
    });

    song.addEventListener('timeupdate',()=>{
      progressBar.style.width = `${(song.currentTime / song.duration) * 100}%`;
      currentTimeEl.textContent = formatTime(song.currentTime);
    });

    // üéµ Play/Pause
    function toggleSong(e){
      e.preventDefault();
      if(song.paused){
        song.play();
      } else {
        song.pause();
      }
    }

    toggleBtn.addEventListener('click',()=>{
      if(song.paused) song.play();
      else song.pause();
    });

    song.addEventListener('play', () => {
      playBtn.innerHTML = 'üñ§';
      playBtn.classList.remove('btn');
      playBtn.classList.add('heart');
      toggleBtn.textContent = 'üñ§';
    });

    song.addEventListener('pause', () => {
      playBtn.innerHTML = 'Play song ‚ñ∂';
      playBtn.classList.remove('heart');
      playBtn.classList.add('btn');
      toggleBtn.textContent = 'üñ§';
    });

    song.addEventListener('ended', () => {
      progressBar.style.width = '0%';
      currentTimeEl.textContent = '0:00';
      toggleBtn.textContent = 'üñ§';
      playBtn.innerHTML = 'Play song ‚ñ∂';
      playBtn.classList.remove('heart');
      playBtn.classList.add('btn');
    });


    // üóìÔ∏è Counters
    const metDate = new Date('2025-02-09');
    const startDate = new Date('2025-07-17');
    function updateCounters(){
      const now = new Date();
      const diff = Math.floor((now - metDate) / (1000*60*60*24));
      document.getElementById('daysCount').textContent = diff;
      const months = Math.floor((now - startDate) / (1000*60*60*24*30));
      document.getElementById('monthsCount').textContent = months;
    }
    updateCounters();
  </script>
</body>
</html>
